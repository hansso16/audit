<!DOCTYPE HTML>
<HTML lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
		<th:block th:replace="~{template :: headfiles}"></th:block>
		<title>Change Password</title>
	</head>
	<body>
		<th:block th:replace="~{template :: menu}"></th:block>
		<br>
		<div class="container" >
			<div class="row justify-content-center">
				<div class="col-6">
					<div class="card">
						<h5 class="card-header text-center">Change Password</h5>
							<div th:if="${errorMessage != null && !#strings.isEmpty(errorMessage)}" class="alert alert-danger alert-dismissible fade show" role="alert">
							  	<span th:text="${errorMessage}"></span >
								<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
							</div>
							<div th:if="${successMessage != null && !#strings.isEmpty(successMessage)}" class="alert alert-success alert-dismissible fade show" role="alert">
							  	<span th:text="${successMessage}"></span >
								<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
							</div>
 					  		<form id="changePassword" action="#" th:action="@{/changepassword}" method="POST" autocomplete="off">
						    	<div class="row justify-content-center mt-2">
						        	<div class="col-auto">
						        		<label for="currentPassword" class="form-label">Current Password</label >
					                    <input type="password" name="currentPassword" id="currentPassword" class="form-control" required>
						        	</div >
								</div>
						    	<div class="row justify-content-center">
						        	<div class="col-auto">
						        		<label for="password" class="form-label">New Password</label >
					                    <input type="password" name="password" id="password" class="form-control" required maxlength="16"
					                    	pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,16}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">
						        	</div >
								</div>
						    	<div class="row justify-content-center">
						        	<div class="col-auto">
						        		<label for="passwordConfirmation" class="form-label">Confirm New Password</label >
					                    <input type="password" name="passwordConfirmation" id="passwordConfirmation" class="form-control" required maxlength="16"
					                    	pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,16}" title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters">
						        	</div >
								</div>
								<br>
								<div class="row justify-content-center">
									<div class="col-auto">
						    			<button type="submit" class="btn btn-primary" onclick="validatePassword()">Submit</button >
									</div>
								</div>
				    			<br>
					  		</form >
					  	</div>
					</div>
				</div>
			</div>
		</div>
		<th:block th:replace="~{template :: footer}"></th:block >
		<script type="text/javascript" th:src="@{/js/public/jquery-3.6.0.min.js}"></script>
		<th:block th:replace="~{template :: scripts}"></th:block>
		<script type="text/javascript" th:src="@{/js/change_password.js}"></script>
	</body>
</HTML >